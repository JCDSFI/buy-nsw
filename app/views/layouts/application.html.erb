<!DOCTYPE html>
<html>
  <head>
    <title>
      <%= "(#{deployment_env.try(:titleize)})" %> buy.nsw</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
  </head>

  <body class="<%= yield(:body_classes) %>">
    <% unless content_for(:skip_header) %>
    <header role="global">
      <div class="container">
        <div class="row">
          <h1>
            <%= link_to root_path do %>
              <div class="logo-container">
                <span class="logo">NSW Government</span>
              </div>
              <span class="site-title">buy.nsw</span>
            <% end %>
          </h1>

          <%= render partial: 'layouts/user_links' %>
        </div>
      </div>

      <%= yield(:extra_header_content) %>
    </header>
    <% end %>

    <% if content_for?(:header) %>
      <header class="application-header">
        <div class="container">
          <div class="row">
            <%= content_for(:header) %>
          </div>
        </div>
      </header>
    <% end %>

    <% if notice.present? || alert.present? %>
      <div class="messages">
        <% flash.each do |key, value| %>
          <div class="message message-<%= key %>">
            <div class="message-container">
              <div class="row justify-content-end">
                <p><%= value %></p>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>

    <main<% unless content_for?(:without_container) %> class="with-container" <% end %>>
      <%= content_for?(:content) ? yield(:content) : yield %>
    </main>

    <% unless content_for(:skip_footer) %>
      <footer role="global">
        <div class="container">
          <%= deployment_env.try(:titleize) %>
          <% if defined?(APP_VERSION) %>
            (<%= APP_VERSION %>, created <%= time_ago_in_words(APP_VERSION_TIME) %> ago)
          <% end %>
        </div>
      </footer>
    <% end %>
  </body>
</html>
