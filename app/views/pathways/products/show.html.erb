<section class="view-pathways-products-show">
  <header class="with-seller-details">
    <h1><%= product.name %></h1>
    <div class="seller">
      by <%= link_to product.seller.name, sellers_profile_path(product.seller) %>
      <% if product.is_reselling? %>
        <ul class="tags">
          <li>Reseller</li>
        </ul>
      <% end %>
    </div>
  </header>

  <%= render partial: 'basics', locals: { product: product } %>

  <div class="profile-container">
    <div class="contents-container">
      <div class="contents">
        <h3>On this page</h3>
        <ol>
          <% product.details.keys.each do |key| %>
            <li><%= link_to key, "##{key.parameterize}" %></li>
          <% end %>
        </ol>
      </div>
    </div>
    <div class="profile">
      <% product.details.each do |heading, details| %>
        <dl id="<%= heading.parameterize %>">
          <h2><%= heading %></h2>
          <% details.each do |key, value| %>
            <dt><%= key %></dt>
            <dd>
              <% if value.is_a?(Array) %>
                <ul>
                  <% value.each do |value| %>
                    <li><%= value %></li>
                  <% end %>
                </ul>
              <% elsif value.is_a?(Date) %>
                <%= value.strftime('%d/%m/%Y') %>
              <% elsif value.is_a?(TrueClass) %>
                Yes
              <% elsif value.is_a?(FalseClass) %>
                No
              <% else %>
                <%= format_text_block value %>
              <% end %>
            </dd>
          <% end %>
        </dl>
      <% end %>
    </div>
</section>
